<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>H+ 后台主题UI框架 - Bootstrap3 Markdown编辑器</title>
    <meta name="keywords" content="H+后台主题,后台bootstrap框架,会员中心主题,后台HTML,响应式后台">
    <meta name="description" content="H+是一个完全响应式，基于Bootstrap3最新版本开发的扁平化主题，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术">

    <link rel="shortcut icon" href="favicon.ico">

    <link href="../../static/css/font-awesome.min.css?v=4.4.0" rel="stylesheet">
    <link href="../../static/css/animate.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../../static/css/plugins/markdown/bootstrap-markdown.min.css" />
    <link href="../../static/css/style.css?v=4.0.0" rel="stylesheet"><base target="_blank">

    <script src="../../static/js/jquery.min.js?v=2.1.4"></script>
    <script src="../../static/js/jquery-ui-1.10.4.min.js"></script>

    <link href="../../static/css/bootstrap.min.css?v=3.3.5" rel="stylesheet">
    <script src="../../static/js/bootstrap.min.js?v=3.3.5"></script>

    <script src="../../static/js/moment-with-locales.min.js"></script>
    <link href="../../static/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
    <script src="../../static/js/bootstrap-datetimepicker.min.js"></script>
</head>
<body class="gray-bg">
<div class="wrapper wrapper-content">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>申请项目信息接口调试</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="dropdown-toggle" data-toggle="dropdown" href="form_editors.html#">
                            <i class="fa fa-wrench"></i>
                        </a>
                    </div>
                    <div class="ibox-content">
                        <form role="form" class="form-horizontal m-t" id="generateXML_local" target="_self">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">接口名称：</label>
                                <div class="col-sm-2">
                                    <p class="form-control-static">申请项目信息接口</p>
                                </div>
                                <label class="col-sm-2 control-label">接口编码：</label>
                                <div class="col-sm-2">
                                    <input id="MsgCode" type="text" name="MsgCode" class="form-control" value="JB03" readonly="readonly">
                                </div>
                            </div>
                            <hr>
                            <div class="form-group ">
                                <label class="col-sm-2 control-label">申请单序号：</label>
                                <div class="col-sm-2">
                                    <input id="sqdxh" type="text" name="sqdxh" class="form-control XMLState" placeholder="默认为0">
                                </div>
                                <label class="col-sm-1 control-label">门诊号：</label>
                                <div class="col-sm-2">
                                    <input id="blh" type="text" name="blh" class="form-control XMLState" placeholder="门诊号或者住院号">
                                </div>
                                <label class="col-sm-1 control-label">系统标志：</label>
                                <div class="col-sm-2">
                                    <input id="brlb" type="text" name="brlb" class="form-control XMLState" placeholder="0：门诊 1：住院 3：体检">
                                </div>
                            </div>
                            <div class="form-group ">
                                <label class="col-sm-2 control-label">病人唯一码：</label>
                                <div class="col-sm-2">
                                    <input id="patid" type="text" name="patid" class="form-control XMLState" placeholder="病人唯一码">
                                </div>
                                <label class="col-sm-1 control-label">首页序号：</label>
                                <div class="col-sm-2">
                                    <input id="syxh" type="text" name="syxh" class="form-control XMLState" placeholder="首页序号">
                                </div>
                                <label class="col-sm-1 control-label">申请序号：</label>
                                <div class="col-sm-2">
                                    <input id="qqxh" type="text" name="qqxh" class="form-control XMLState" placeholder="申请序号">
                                </div>
                            </div>
                            <div class="form-group ">
                                <label class="col-sm-2 control-label">体检人员编号：</label>
                                <div class="col-sm-2">
                                    <input id="tjrybh" type="text" name="tjrybh" class="form-control XMLState" placeholder="病人唯一码">
                                </div>
                                <label class="col-sm-1 control-label">开始日期：</label>
                                <div class="col-sm-2">
                                    <input id="rq1" type="text" name="rq1" class="form-control XMLState" placeholder="开始日期">
                                </div>
                                <label class="col-sm-1 control-label">结束日期：</label>
                                <div class="col-sm-2">
                                    <input id="rq2" type="text" name="rq2" class="form-control XMLState" placeholder="结束日期">
                                </div>
                            </div>
                            <div class="form-group ">
                                <label class="col-sm-2 control-label">执行科室代码：</label>
                                <div class="col-sm-2">
                                    <input id="zxks" type="text" name="zxks" class="form-control XMLState" placeholder="执行科室代码">
                                </div>
                                <label class="col-sm-1 control-label">数值型：</label>
                                <div class="col-sm-2">
                                    <input id="fph" type="text" name="fph" class="form-control XMLState" placeholder="默认为0（门诊使用）">
                                </div>
                                <label class="col-sm-1 control-label">婴儿序号：</label>
                                <div class="col-sm-2">
                                    <input id="yexh" type="text" name="yexh" class="form-control XMLState" placeholder="查询大人时传0">
                                </div>
                            </div>
                            <div class="hr-line-dashed"></div>
                            <div class="form-group ">
                                <div class="col-sm-12 col-sm-offset-4">
                                    <button class="btn btn-primary" type="submit">生成报文</button>
                                    <button class="btn btn-white" id="clear1" type="clear">重置</button>
                                </div>
                            </div>
                        </form>
                        <div class="clearfix"></div>
                    </div>
                </div>
            </div>
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>xml请求报告</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="dropdown-toggle" data-toggle="dropdown" href="form_editors.html#">
                            <i class="fa fa-wrench"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                      <pre id="toastrOptions" contenteditable="" name="content" data-provide="markdown" rows="25">
                      </pre>
                    <div class="clearfix"></div>
                    <br>
                    <div class="form-group ">
                        <div class="col-sm-12 col-sm-offset-4">
                            <button class="btn btn-primary" id="submit1">提交</button>
                            <button class="btn btn-white" id="reset" type="submit">重置</button>
                        </div>
                    </div>
                    <br>
                </div>
            </div>
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>返回接口信息</h5>
                    <div class="ibox-tools">
                        <a class="collapse-link">
                            <i class="fa fa-chevron-up"></i>
                        </a>
                        <a class="dropdown-toggle" data-toggle="dropdown" href="form_editors.html#">
                            <i class="fa fa-wrench"></i>
                        </a>
                    </div>
                </div>
                <div class="ibox-content">
                    <div class="form-group ">
                        <div class="col-sm-12 col-sm-offset-4">
                            <button class="btn btn-primary" id="clear2" type="submit">清空</button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="row m-t-lg">
                        <div class="col-lg-12">
                            <pre id="toastrOptions2" class="p-m"></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="../../static/js/content.js?v=1.0.0"></script>
<script type="text/javascript" src="../../static/js/plugins/markdown/markdown.js"></script>
<script type="text/javascript" src="../../static/js/plugins/markdown/to-markdown.js"></script>
<script type="text/javascript" src="../../static/js/plugins/markdown/bootstrap-markdown.js"></script>
<script type="text/javascript" src="../../static/js/plugins/markdown/bootstrap-markdown.zh.js"></script>
<script src="../../static/js/plugins/beautifyhtml/beautifyhtml.js"></script>
<script src="../../static/js/plugins/validate/jquery.validate.min.js"></script>
<script src="../../static/js/plugins/validate/messages_zh.min.js"></script>
<script src="../../static/js/demo/form-validate-demo.js"></script>
<script src="../../static/js/commonrequest.js"></script>
<script type="text/javascript">

    $("#clear1").click(function(){
        $(".XMLState").each(function(){
            $(this).val("");
            $("#toastrOptions").html("");
        });
    });

    $("#reset").click(function(){
        $("#toastrOptions").html("");
    });

    $("#submit1").click(function(){
        var method=$('#MsgCode').val();
        var xml=$("#toastrOptions").html();
        var hisId=$("#patid").val();
        var param = {
            method: method,
            requestParam:xml,
            hisId:hisId
        }
        var url = '/hisInterface/getWebServiceResult'
        ajaxPostWithToken(url, param, function (data) {
            console.info(data);
            if (data.code == 200) {
                $("#toastrOptions2").html(data.data);
            } else {
            }
        })
    });

    $(function(){
        $('#rq1').datetimepicker({
            format: 'YYYY-MM-DD hh:mm:ss',
            locale: moment.locale('zh-cn')
        });

        $('#rq2').datetimepicker({
            format: 'YYYY-MM-DD hh:mm:ss',
            locale: moment.locale('zh-cn')
        });
    });

    $("#generateXML_local").validate({
        rules: {sqdxh: "required"},
        submitHandler: function () {
            generateXML();
        }
    });
</script>
<script src="../../static/js/funtionTools.js"></script>
</body>
</html>
